# Функционал добавления интересных мест на карту

## Обзор

Добавлен новый функционал для работы с пользовательскими местами на карте Удмуртской Республики.

## Новые возможности

### 1. Добавление интересных мест
- Кнопка "+" на карте для активации режима добавления
- Проверка, что место находится в пределах Удмуртии
- Форма добавления с полями:
  - Название места (обязательно)
  - Описание места (обязательно)
  - Ссылка на место (необязательно)
- Сохранение в Firebase Realtime Database

### 2. Список всех мест
- Кнопка со списком для перехода на страницу всех мест
- Отображение всех добавленных пользователями мест
- Карточки мест с рейтингом и количеством отзывов
- Детальная информация о каждом месте

### 3. Система отзывов и оценок
- Оценка от 0.5 до 5 звезд с шагом 0.5
- Текстовые комментарии к отзывам
- Расчет среднего рейтинга для каждого места
- Отображение всех отзывов для места

## Структура данных в Firebase

### Места (/places)
```json
{
  "placeId": {
    "name": "Название места",
    "description": "Описание места",
    "url": "https://example.com",
    "lat": 56.12345,
    "lng": 53.12345,
    "addedBy": "userId",
    "timestamp": 1234567890
  }
}
```

### Отзывы (/places/{placeId}/reviews)
```json
{
  "reviewId": {
    "userId": "userId",
    "rating": 4.5,
    "comment": "Отзыв пользователя",
    "timestamp": 1234567890
  }
}
```

## Визуальные элементы

### Маркеры на карте
- Колледжи: синие/зеленые маркеры с иконкой школы
- Пользовательские места: красные маркеры с иконкой места

### Кнопки на карте
- Зеленая кнопка (список): переход к списку всех мест
- Синяя/оранжевая кнопка (+): добавление нового места
- Синяя кнопка (локация): центрирование карты

### Легенда
- БПОУ УР (синий)
- АПОУ УР (зеленый)
- Пользовательские места (красный)
- Общее количество мест

## Навигация

- Главная карта: `/map_page`
- Список мест: `PlacesListPage` (через Navigator.push)

## Файлы

### Новые файлы
- `lib/places_list_page.dart` - страница списка всех мест

### Измененные файлы
- `lib/map_page.dart` - добавлен функционал работы с местами

## Используемые технологии

- Firebase Realtime Database для хранения данных
- flutter_map для отображения карты
- Google Fonts для типографики
- Material Design для UI компонентов

## Ограничения

- Добавление мест возможно только в пределах Удмуртской Республики
- Проверка границ: широта 56.0-58.5, долгота 51.0-55.0
- Название и описание места являются обязательными полями